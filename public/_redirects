# Redirects for Cloudflare Pages

# Handle invite tokens
/#invite_token=* /admin/cms/#invite_token=:splat 301

# Admin CMS specific redirects
/admin/cms/* /admin/cms/index.html 200

# Admin general redirect (keep existing admin for backwards compatibility)
/admin/* /admin/index.html 200

# API endpoints for Netlify Functions (primary deployment handled in netlify.toml)
# For Cloudflare Pages (no functions), uncomment these static JSON fallbacks:
# /api/posts /api/posts.json 200
# /api/post /api/posts.json 200
# /api/debug /api/debug.json 200

# API endpoints - these must come BEFORE the catch-all to work
/api/posts /.netlify/functions/posts 200
/api/post /.netlify/functions/post 200
/api/debug /.netlify/functions/debug 200

# Blog pages
/blog/* /blog/:splat 200

# SPA fallback
/* /index.html 200
